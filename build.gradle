/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
buildscript {
  dependencies {
    classpath("org.springframework.boot:spring-boot-gradle-plugin:$springVersion")
  }
  repositories {
   jcenter()
  }
}
plugins {
  id 'java'
  id 'eclipse'
  id 'idea'
  id 'jacoco'
  id 'org.springframework.boot' version '2.0.0.RELEASE'
  id 'net.ltgt.apt' version '0.10'
}
repositories {
  mavenCentral()
  jcenter()
}
dependencies {
  compile('org.springframework.boot:spring-boot-starter-web')
  compile('io.swagger:swagger-core:1.5.19')
  compile('io.springfox:springfox-swagger2:2.8.0')
  compile('io.springfox:springfox-swagger-ui:2.8.0')
  compile('io.springfox:springfox-data-rest:2.8.0')
  compileOnly('org.projectlombok:lombok:1.16.20')
  apt('org.projectlombok:lombok:1.16.20')

  compile("com.h2database:h2")
}
eclipse.classpath.file.whenMerged { cp ->
  cp.entries.findAll { entry ->
    if (entry.kind == "output") {
      entry.path = "${eclipseOutputPath}/java/main"
    }
    if (entry.kind == "src") {
      entry.output = "${eclipseSrcOutputPath}/java/main"
    }
  }
}
jar {
  enabled = true
}
bootJar {
  classifier = 'boot'
  mainClassName = 'com.github.narh.sample.swagger.Application'
  launchScript()
}


sourceCompatibility = "$sourceCompatibility" // -source
targetCompatibility = "$targetCompatibility" // -target

apply plugin: 'war'
apply plugin: 'io.spring.dependency-management'
